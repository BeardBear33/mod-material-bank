ALTER TABLE `customs`.`account_material_bank`
    ADD COLUMN `categoryId` TINYINT UNSIGNED NOT NULL DEFAULT 0 AFTER `team`;


ALTER TABLE `customs`.`account_material_bank`
    DROP PRIMARY KEY,
    ADD PRIMARY KEY (`accountId`, `team`, `categoryId`, `itemEntry`),
    ADD INDEX `idx_mbank_list` (`accountId`, `team`, `categoryId`);


-- Exportování struktury pro tabulka customs.material_bank_category
CREATE TABLE IF NOT EXISTS `customs`.`material_bank_category` (
  `id` tinyint unsigned NOT NULL,
  `parent_id` tinyint unsigned NOT NULL DEFAULT '0',
  `name_cs` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `name_en` varchar(64) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `itemClass` tinyint NOT NULL DEFAULT '-1',
  `itemSubClass` tinyint NOT NULL DEFAULT '-1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

-- Exportování dat pro tabulku customs.material_bank_category
INSERT INTO `customs`.`material_bank_category` (`id`, `parent_id`, `name_cs`, `name_en`, `itemClass`, `itemSubClass`) VALUES
	(1, 0, 'Obchodní zboží', 'Trade Goods', 7, -1),
	(2, 1, 'Trade Goods', 'Trade Goods', 7, 0),
	(3, 1, 'Parts', 'Parts', 7, 1),
	(4, 1, 'Explosives', 'Explosives', 7, 2),
	(5, 1, 'Devices', 'Devices', 7, 3),
	(6, 1, 'Jewelcrafting', 'Jewelcrafting', 7, 4),
	(7, 1, 'Cloth', 'Cloth', 7, 5),
	(8, 1, 'Leather', 'Leather', 7, 6),
	(9, 1, 'Metal & Stone', 'Metal & Stone', 7, 7),
	(10, 1, 'Meat', 'Meat', 7, 8),
	(11, 1, 'Herb', 'Herb', 7, 9),
	(12, 1, 'Elemental', 'Elemental', 7, 10),
	(13, 1, 'Other', 'Other', 7, 11),
	(14, 1, 'Enchanting', 'Enchanting', 7, 12),
	(15, 1, 'Materials', 'Materials', 7, 13),
	(16, 1, 'Armor Enchantment', 'Armor Enchantment', 7, 14),
	(17, 1, 'Weapon Enchantment', 'Weapon Enchantment', 7, 15),
	(18, 0, 'Zbroj', 'Armor', 4, -1),
	(19, 18, 'Miscellaneous', 'Miscellaneous', 4, 0),
	(20, 18, 'Cloth', 'Cloth', 4, 1),
	(21, 18, 'Leather', 'Leather', 4, 2),
	(22, 18, 'Mail', 'Mail', 4, 3),
	(23, 18, 'Plate', 'Plate', 4, 4),
	(24, 18, 'Shield', 'Shield', 4, 6),
	(25, 18, 'Libram', 'Libram', 4, 7),
	(26, 18, 'Idol', 'Idol', 4, 8),
	(27, 18, 'Totem', 'Totem', 4, 9),
	(28, 18, 'Sigil', 'Sigil', 4, 10),
	(29, 0, 'Zbraně', 'Weapon', 2, -1),
	(30, 29, 'One-Handed Axes', 'One-Handed Axes', 2, 0),
	(31, 29, 'Two-Handed Axes', 'Two-Handed Axes', 2, 1),
	(32, 29, 'One-Handed Maces', 'One-Handed Maces', 2, 4),
	(33, 29, 'Two-Handed Mace', 'Two-Handed Mace', 2, 5),
	(34, 29, 'One-Handed Swords', 'One-Handed Swords', 2, 7),
	(35, 29, 'Two-Handed Sword', 'Two-Handed Sword', 2, 8),
	(36, 29, 'Polearm', 'Polearm', 2, 6),
	(37, 29, 'Staff', 'Staff', 2, 10),
	(38, 29, 'Fist Weapon', 'Fist Weapon', 2, 13),
	(39, 29, 'Dagger', 'Dagger', 2, 15),
	(40, 29, 'Bow', 'Bow', 2, 2),
	(41, 29, 'Gun', 'Gun', 2, 3),
	(42, 29, 'Crossbow', 'Crossbow', 2, 18),
	(43, 29, 'Thrown', 'Thrown', 2, 16),
	(44, 29, 'Wand', 'Wand', 2, 19),
	(45, 29, 'Miscellaneous', 'Miscellaneous', 2, 14),
	(46, 29, 'Fishing Pole', 'Fishing Pole', 2, 20),
	(47, 0, 'Spotřební zboží', 'Consumable', 0, -1),
	(48, 47, 'Food & Drink', 'Food & Drink', 0, 5),
	(49, 47, 'Potion', 'Potion', 0, 1),
	(50, 47, 'Elixir', 'Elixir', 0, 2),
	(51, 47, 'Flask', 'Flask', 0, 3),
	(52, 47, 'Item Enhancement', 'Item Enhancement', 0, 6),
	(53, 47, 'Bandage', 'Bandage', 0, 7),
	(54, 47, 'Scroll', 'Scroll', 0, 4),
	(55, 47, 'Other', 'Other', 0, 8),
	(56, 47, 'Consumable', 'Consumable', 0, 0),
	(57, 0, 'Gemy', 'Gem', 3, -1),
	(58, 57, 'Red', 'Red', 3, 0),
	(59, 57, 'Blue', 'Blue', 3, 1),
	(60, 57, 'Yellow', 'Yellow', 3, 2),
	(61, 57, 'Purple', 'Purple', 3, 3),
	(62, 57, 'Green', 'Green', 3, 4),
	(63, 57, 'Orange', 'Orange', 3, 5),
	(64, 57, 'Meta', 'Meta', 3, 6),
	(65, 57, 'Simple', 'Simple', 3, 7),
	(66, 57, 'Prismatic', 'Prismatic', 3, 8),
	(67, 0, 'Recepty', 'Recipe', 9, -1),
	(68, 67, 'Leatherworking', 'Leatherworking', 9, 1),
	(69, 67, 'Tailoring', 'Tailoring', 9, 2),
	(70, 67, 'Engineering', 'Engineering', 9, 3),
	(71, 67, 'Blacksmithing', 'Blacksmithing', 9, 4),
	(72, 67, 'Alchemy', 'Alchemy', 9, 6),
	(73, 67, 'Enchanting', 'Enchanting', 9, 8),
	(74, 67, 'Jewelcrafting', 'Jewelcrafting', 9, 10),
	(75, 67, 'Inscription', 'Inscription', 9, 11),
	(76, 67, 'Cooking', 'Cooking', 9, 5),
	(77, 67, 'First Aid', 'First Aid', 9, 7),
	(78, 67, 'Fishing', 'Fishing', 9, 9),
	(79, 67, 'Book', 'Book', 9, 0),
	(80, 0, 'Glyfy', 'Glyph', 16, -1),
	(81, 80, 'Warrior', 'Warrior', 16, 1),
	(82, 80, 'Paladin', 'Paladin', 16, 2),
	(83, 80, 'Hunter', 'Hunter', 16, 3),
	(84, 80, 'Rogue', 'Rogue', 16, 4),
	(85, 80, 'Priest', 'Priest', 16, 5),
	(86, 80, 'Death Knight', 'Death Knight', 16, 6),
	(87, 80, 'Shaman', 'Shaman', 16, 7),
	(88, 80, 'Mage', 'Mage', 16, 8),
	(89, 80, 'Warlock', 'Warlock', 16, 9),
	(90, 80, 'Druid', 'Druid', 16, 11),
	(91, 0, 'Brašny', 'Container', 1, -1),
	(92, 91, 'Bag', 'Bag', 1, 0),
	(93, 91, 'Soul Bag', 'Soul Bag', 1, 1),
	(94, 91, 'Herb Bag', 'Herb Bag', 1, 2),
	(95, 91, 'Enchanting Bag', 'Enchanting Bag', 1, 3),
	(96, 91, 'Engineering Bag', 'Engineering Bag', 1, 4),
	(97, 91, 'Gem Bag', 'Gem Bag', 1, 5),
	(98, 91, 'Mining Bag', 'Mining Bag', 1, 6),
	(99, 91, 'Leatherworking Bag', 'Leatherworking Bag', 1, 7),
	(100, 91, 'Inscription Bag', 'Inscription Bag', 1, 8),
	(101, 0, 'Ostatní', 'Miscellaneous', 15, -1),
	(102, 101, 'Junk', 'Junk', 15, 0),
	(103, 101, 'Reagent', 'Reagent', 15, 1),
	(104, 101, 'Pet', 'Pet', 15, 2),
	(105, 101, 'Holiday', 'Holiday', 15, 3),
	(106, 101, 'Other', 'Other', 15, 4),
	(107, 101, 'Mount', 'Mount', 15, 5);
